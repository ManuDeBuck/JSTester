var $jscomp=$jscomp||{};$jscomp.scope={},$jscomp.ASSUME_ES5=!1,$jscomp.ASSUME_NO_NATIVE_MAP=!1,$jscomp.ASSUME_NO_NATIVE_SET=!1,$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(i,j,o){i!=Array.prototype&&i!=Object.prototype&&(i[j]=o.value)},$jscomp.getGlobal=function(i){return"undefined"!=typeof window&&window===i?i:"undefined"!=typeof global&&null!=global?global:i},$jscomp.global=$jscomp.getGlobal(this),$jscomp.SYMBOL_PREFIX="jscomp_symbol_",$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){},$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)},$jscomp.Symbol=function(){var i=0;return function(j){return $jscomp.SYMBOL_PREFIX+(j||"")+i++}}(),$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var i=$jscomp.global.Symbol.iterator;i||(i=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator")),"function"!=typeof Array.prototype[i]&&$jscomp.defineProperty(Array.prototype,i,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}}),$jscomp.initSymbolIterator=function(){}},$jscomp.arrayIterator=function(i){var j=0;return $jscomp.iteratorPrototype(function(){return j<i.length?{done:!1,value:i[j++]}:{done:!0}})},$jscomp.iteratorPrototype=function(i){return $jscomp.initSymbolIterator(),i={next:i},i[$jscomp.global.Symbol.iterator]=function(){return this},i},$jscomp.makeIterator=function(i){$jscomp.initSymbolIterator();var j=i[Symbol.iterator];return j?j.call(i):$jscomp.arrayIterator(i)};function isEqual(i,j){if(i===j)return!0;var o=Object.prototype.toString.call(i);if(o!==Object.prototype.toString.call(j)||0>["[object Array]","[object Object]"].indexOf(o))return!1;var s="[object Array]"===o?i.length:Object.keys(i).length,t="[object Array]"===o?j.length:Object.keys(j).length;if(s!==t)return!1;if(t=function(v,w){var x=Object.prototype.toString.call(v);if(!(0<=["[object Array]","[object Object]"].indexOf(x))){if(x!==Object.prototype.toString.call(w))return!1;if("[object Function]"===x){if(v.toString()!==w.toString())return!1;}else if(v!==w)return!1}else if(!isEqual(v,w))return!1},"[object Array]"===o){for(o=0;o<s;o++)if(!1===t(i[o],j[o]))return!1;}else for(var u in i)if(i.hasOwnProperty(u)&&!1===t(i[u],j[u]))return!1;return!0}var lineReader=require("readline").createInterface({input:require("fs").createReadStream(__filename)}),definitions=["const","let","var"];function strike(i){var j="";i=$jscomp.makeIterator(i.split(""));for(var o=i.next();!o.done;o=i.next())j=j+o.value+"\u0336";return j}var lines=[],testing=!1;function test(a,b,c){var d=!1,f=0;console.oldLog=console.log,console.log=function(i){return console.oldLog(i),i};try{var e=eval(a.join("\n"));if(void 0===e||definitions.some(function(i){return a[a.length-1].startsWith(i+" ")}))for(var h,g=a.length-1;0<=g;g--)if(h=a[g],-1!==h.indexOf("="))for(var p,k=$jscomp.makeIterator(definitions),n=k.next();!n.done;n=k.next())if(p=n.value,h.startsWith(p+" ")){h.endsWith(";")||(h+=";"),h+="\n   "+h.split("=")[0].replace(p,"").trimRight()+";",a[g]=h;var q=eval(a.join("\n"));if(void 0!==q){e=q;break}}try{var l=eval("("+b.join("\n")+")")}catch(i){l=b.join("\n")}}catch(m){for(e=m.name+": "+m.message,l=b.join("\n"),d=!0,b=c+1;b<a.length;b+=1)try{eval(a.slice(0,b)),f+=1}catch(i){break}}return console.log=console.oldLog,console.oldLog=void 0,b=isEqual(e,l),[d,b,l,e,f]}function itemsFormat(i){return 1===i?"item":"items"}lineReader.on("line",function(i){/`"""/.test(i)&&0===lines.length?testing=!0:(/"""`/.test(i)&&(testing=!1),testing&&0!==i.trim().length&&(0===lines.length||/^>>>? .*$/.test(i)||/^>>>? .*$/.test(lines[lines.length-1])?lines.push(i):lines[lines.length-1]+="\n"+i))}).on("close",function(){for(var v,i=[],j=[],o=0,s=0,t=0,u=0;u<lines.length;u+=1)if(v=lines[u],/^>>>? .*$/.test(v))i.push(v.substring(v.indexOf(" ")+1).trim());else if(0!==v.length&&j.push(v),0!==j.length){if(j=test(i,j,t),j[1])s+=1;else{v="\x1B[94m"+i.slice(t,i.length).map(function(y){return"\t"+y}).join("\n")+"\x1B[0m";var w="\x1B[94m"+(void 0===j[2]?void 0:JSON.stringify(j[2]).replace(/\\n/g,"\n\t"))+"\x1B[0m",x="\x1B[94m"+(void 0===j[3]?void 0:JSON.stringify(j[3]).replace(/\\n/g,"\n\t"))+"\x1B[0m";console.log("\x1B[91mTrying\x1B[0m:\n"+v+"\n\x1B[93mExpecting\x1B[0m:\n    "+w+"\n\x1B[92mActual\x1B[0m:\n    "+x),console.log(strike(Array(80).join("-"))),o+=1}j[0]?i=i.slice(0,t+j[4]):t=i.length,j=[]}0!==j.length&&test(i,j),0==o?console.log("All items are correct \x1B[92m\uD83D\uDE0E\x1B[0m"):0==s?console.log("All items are incorrect \x1B[91m\u2620\x1B[0m"):(i="\x1B[95m"+(s+o)+" "+itemsFormat(s+o)+"\x1B[0m",s="\x1B[92m"+s+" "+itemsFormat(s)+" correct \u2713\x1B[0m",o="\x1B[91m"+o+" "+itemsFormat(o)+" failed \u2715\x1B[0m",console.log(i+"\n    "+s+"\n    "+o))});
